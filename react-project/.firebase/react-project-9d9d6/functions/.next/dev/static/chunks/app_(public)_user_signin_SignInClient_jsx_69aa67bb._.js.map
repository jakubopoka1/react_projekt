{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jakubopoka/Desktop/WSEI/REACT_PROJEKT/react-project/app/%28public%29/user/signin/SignInClient.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport {\n\tsignInWithEmailAndPassword,\n\tsetPersistence,\n\tbrowserSessionPersistence,\n\tsignOut,\n} from \"firebase/auth\";\nimport { useSearchParams, useRouter } from \"next/navigation\";\nimport { auth } from \"@/app/lib/firebase\";\n\nexport default function SignInClient() {\n\tconst params = useSearchParams();\n\tconst router = useRouter();\n\tconst returnUrl = params.get(\"returnUrl\");\n\tconst [error, setError] = useState(\"\");\n\tconst [loading, setLoading] = useState(false);\n\n\tconst onSubmit = (e) => {\n\t\te.preventDefault();\n\t\tsetError(\"\");\n\n\t\tconst email = e.target.email.value;\n\t\tconst password = e.target.password.value;\n\n\t\tsetLoading(true);\n\n\t\tsetPersistence(auth, browserSessionPersistence)\n\t\t\t.then(() => signInWithEmailAndPassword(auth, email, password))\n\t\t\t.then((cred) => {\n\t\t\t\tconst u = cred.user;\n\n\t\t\t\tif (!u.emailVerified) {\n\t\t\t\t\tlocalStorage.setItem(\"pendingVerificationEmail\", u.email || \"\");\n\t\t\t\t\treturn signOut(auth).finally(() => router.push(\"/user/verify\"));\n\t\t\t\t}\n\n\t\t\t\trouter.push(returnUrl || \"/\");\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tsetError(err?.message || \"Nie udało się zalogować.\");\n\t\t\t})\n\t\t\t.finally(() => setLoading(false));\n\t};\n\n\treturn (\n\t\t<div className='max-w-md mx-auto'>\n\t\t\t<div className='card bg-base-100 shadow border border-base-300'>\n\t\t\t\t<div className='card-body p-6'>\n\t\t\t\t\t<h1 className='card-title text-lg'>Sign in</h1>\n\t\t\t\t\t<p className='text-sm opacity-70'>\n\t\t\t\t\t\tZaloguj się, aby uzyskać dostęp do chronionych stron.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t{error && (\n\t\t\t\t\t\t<div className='alert alert-error mt-3'>\n\t\t\t\t\t\t\t<span>{error}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<form onSubmit={onSubmit} className='mt-4 flex flex-col gap-3'>\n\t\t\t\t\t\t<div className='form-control'>\n\t\t\t\t\t\t\t<label className='label'>\n\t\t\t\t\t\t\t\t<span className='label-text'>Email</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\tplaceholder='Email'\n\t\t\t\t\t\t\t\tclassName='input input-bordered w-full'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className='form-control'>\n\t\t\t\t\t\t\t<label className='label'>\n\t\t\t\t\t\t\t\t<span className='label-text'>Password</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\t\t\tclassName='input input-bordered w-full'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='btn btn-primary mt-2'\n\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\tdisabled={loading}>\n\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<span className='loading loading-spinner loading-sm'></span>\n\t\t\t\t\t\t\t\t\tLogging in...\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\"Login\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAMA;AACA;;;AAVA;;;;;AAYe,SAAS;;IACvB,MAAM,SAAS,IAAA,wJAAe;IAC9B,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,YAAY,OAAO,GAAG,CAAC;IAC7B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,WAAW,CAAC;QACjB,EAAE,cAAc;QAChB,SAAS;QAET,MAAM,QAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,KAAK;QAClC,MAAM,WAAW,EAAE,MAAM,CAAC,QAAQ,CAAC,KAAK;QAExC,WAAW;QAEX,IAAA,+KAAc,EAAC,iIAAI,EAAE,0LAAyB,EAC5C,IAAI,CAAC,IAAM,IAAA,2LAA0B,EAAC,iIAAI,EAAE,OAAO,WACnD,IAAI,CAAC,CAAC;YACN,MAAM,IAAI,KAAK,IAAI;YAEnB,IAAI,CAAC,EAAE,aAAa,EAAE;gBACrB,aAAa,OAAO,CAAC,4BAA4B,EAAE,KAAK,IAAI;gBAC5D,OAAO,IAAA,wKAAO,EAAC,iIAAI,EAAE,OAAO,CAAC,IAAM,OAAO,IAAI,CAAC;YAChD;YAEA,OAAO,IAAI,CAAC,aAAa;QAC1B,GACC,KAAK,CAAC,CAAC;YACP,SAAS,KAAK,WAAW;QAC1B,GACC,OAAO,CAAC,IAAM,WAAW;IAC5B;IAEA,qBACC,6LAAC;QAAI,WAAU;kBACd,cAAA,6LAAC;YAAI,WAAU;sBACd,cAAA,6LAAC;gBAAI,WAAU;;kCACd,6LAAC;wBAAG,WAAU;kCAAqB;;;;;;kCACnC,6LAAC;wBAAE,WAAU;kCAAqB;;;;;;oBAIjC,uBACA,6LAAC;wBAAI,WAAU;kCACd,cAAA,6LAAC;sCAAM;;;;;;;;;;;kCAIT,6LAAC;wBAAK,UAAU;wBAAU,WAAU;;0CACnC,6LAAC;gCAAI,WAAU;;kDACd,6LAAC;wCAAM,WAAU;kDAChB,cAAA,6LAAC;4CAAK,WAAU;sDAAa;;;;;;;;;;;kDAE9B,6LAAC;wCACA,MAAK;wCACL,MAAK;wCACL,aAAY;wCACZ,WAAU;wCACV,QAAQ;wCACR,UAAU;;;;;;;;;;;;0CAIZ,6LAAC;gCAAI,WAAU;;kDACd,6LAAC;wCAAM,WAAU;kDAChB,cAAA,6LAAC;4CAAK,WAAU;sDAAa;;;;;;;;;;;kDAE9B,6LAAC;wCACA,MAAK;wCACL,MAAK;wCACL,aAAY;wCACZ,WAAU;wCACV,QAAQ;wCACR,UAAU;;;;;;;;;;;;0CAIZ,6LAAC;gCACA,WAAU;gCACV,MAAK;gCACL,UAAU;0CACT,wBACA;;sDACC,6LAAC;4CAAK,WAAU;;;;;;wCAA4C;;mDAI7D;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQR;GAhGwB;;QACR,wJAAe;QACf,kJAAS;;;KAFD"}}]
}