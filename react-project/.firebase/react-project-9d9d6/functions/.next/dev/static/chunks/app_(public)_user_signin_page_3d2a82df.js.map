{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jakubopoka/Desktop/WSEI/REACT_PROJEKT/react-project/app/%28public%29/user/signin/page.js"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport {\n\tsignInWithEmailAndPassword,\n\tsetPersistence,\n\tbrowserSessionPersistence,\n\tsignOut,\n} from \"firebase/auth\";\nimport { useSearchParams, useRouter } from \"next/navigation\";\nimport { auth } from \"@/app/lib/firebase\";\n\nexport default function SignInClient() {\n\tconst params = useSearchParams();\n\tconst router = useRouter();\n\tconst returnUrl = params.get(\"returnUrl\");\n\tconst [error, setError] = useState(\"\");\n\n\tconst onSubmit = (e) => {\n\t\te.preventDefault();\n\t\tsetError(\"\");\n\n\t\tconst email = e.target[\"email\"].value;\n\t\tconst password = e.target[\"password\"].value;\n\n\t\tsetPersistence(auth, browserSessionPersistence)\n\t\t\t.then(() => signInWithEmailAndPassword(auth, email, password))\n\t\t\t.then((cred) => {\n\t\t\t\tconst u = cred.user;\n\n\t\t\t\tif (!u.emailVerified) {\n\t\t\t\t\tlocalStorage.setItem(\"pendingVerificationEmail\", u.email || \"\");\n\t\t\t\t\treturn signOut(auth).finally(() => router.push(\"/user/verify\"));\n\t\t\t\t}\n\n\t\t\t\trouter.push(returnUrl || \"/\");\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tsetError(err?.message || \"Nie udało się zalogować.\");\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<div className='max-w-md mx-auto'>\n\t\t\t<h1 className='text-2xl font-bold mb-4'>Sign in</h1>\n\n\t\t\t{error && <div className='mb-4 border p-3 rounded'>{error}</div>}\n\n\t\t\t<form onSubmit={onSubmit} className='flex flex-col gap-3'>\n\t\t\t\t<input\n\t\t\t\t\tname='email'\n\t\t\t\t\ttype='email'\n\t\t\t\t\tplaceholder='Email'\n\t\t\t\t\tclassName='border p-2 rounded'\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\tname='password'\n\t\t\t\t\ttype='password'\n\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\tclassName='border p-2 rounded'\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<button className='border p-2 rounded' type='submit'>\n\t\t\t\t\tLogin\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAMA;AACA;;;AAVA;;;;;AAYe,SAAS;;IACvB,MAAM,SAAS,IAAA,wJAAe;IAC9B,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,YAAY,OAAO,GAAG,CAAC;IAC7B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IAEnC,MAAM,WAAW,CAAC;QACjB,EAAE,cAAc;QAChB,SAAS;QAET,MAAM,QAAQ,EAAE,MAAM,CAAC,QAAQ,CAAC,KAAK;QACrC,MAAM,WAAW,EAAE,MAAM,CAAC,WAAW,CAAC,KAAK;QAE3C,IAAA,+KAAc,EAAC,iIAAI,EAAE,0LAAyB,EAC5C,IAAI,CAAC,IAAM,IAAA,2LAA0B,EAAC,iIAAI,EAAE,OAAO,WACnD,IAAI,CAAC,CAAC;YACN,MAAM,IAAI,KAAK,IAAI;YAEnB,IAAI,CAAC,EAAE,aAAa,EAAE;gBACrB,aAAa,OAAO,CAAC,4BAA4B,EAAE,KAAK,IAAI;gBAC5D,OAAO,IAAA,wKAAO,EAAC,iIAAI,EAAE,OAAO,CAAC,IAAM,OAAO,IAAI,CAAC;YAChD;YAEA,OAAO,IAAI,CAAC,aAAa;QAC1B,GACC,KAAK,CAAC,CAAC;YACP,SAAS,KAAK,WAAW;QAC1B;IACF;IAEA,qBACC,6LAAC;QAAI,WAAU;;0BACd,6LAAC;gBAAG,WAAU;0BAA0B;;;;;;YAEvC,uBAAS,6LAAC;gBAAI,WAAU;0BAA2B;;;;;;0BAEpD,6LAAC;gBAAK,UAAU;gBAAU,WAAU;;kCACnC,6LAAC;wBACA,MAAK;wBACL,MAAK;wBACL,aAAY;wBACZ,WAAU;wBACV,QAAQ;;;;;;kCAET,6LAAC;wBACA,MAAK;wBACL,MAAK;wBACL,aAAY;wBACZ,WAAU;wBACV,QAAQ;;;;;;kCAET,6LAAC;wBAAO,WAAU;wBAAqB,MAAK;kCAAS;;;;;;;;;;;;;;;;;;AAMzD;GAzDwB;;QACR,wJAAe;QACf,kJAAS;;;KAFD"}}]
}