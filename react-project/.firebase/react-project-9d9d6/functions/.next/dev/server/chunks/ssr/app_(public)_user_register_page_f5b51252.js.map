{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jakubopoka/Desktop/WSEI/REACT_PROJEKT/react-project/app/%28public%29/user/register/page.js"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport {\n\tcreateUserWithEmailAndPassword,\n\tsendEmailVerification,\n\tsignOut,\n} from \"firebase/auth\";\nimport { auth } from \"@/app/lib/firebase\";\nimport { useAuth } from \"@/app/lib/AuthContext\";\nimport { useRouter } from \"next/navigation\";\n\nexport default function RegisterPage() {\n\tconst { user } = useAuth();\n\tconst router = useRouter();\n\tconst [registerError, setRegisterError] = useState(\"\");\n\tconst [loading, setLoading] = useState(false);\n\n\tif (user) return null;\n\n\tconst onSubmit = async (e) => {\n\t\te.preventDefault();\n\t\tsetRegisterError(\"\");\n\n\t\tconst email = e.target.email.value.trim();\n\t\tconst password = e.target.password.value;\n\t\tconst password2 = e.target.password2.value;\n\n\t\tif (password !== password2) {\n\t\t\tsetRegisterError(\"Hasła muszą być identyczne.\");\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tsetLoading(true);\n\n\t\t\tawait createUserWithEmailAndPassword(auth, email, password);\n\t\t\tawait sendEmailVerification(auth.currentUser);\n\n\t\t\tlocalStorage.setItem(\"pendingVerificationEmail\", email);\n\n\t\t\tawait signOut(auth);\n\n\t\t\trouter.push(\"/user/verify\");\n\t\t} catch (err) {\n\t\t\tsetRegisterError(err?.message || \"Błąd rejestracji.\");\n\t\t} finally {\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className='max-w-md mx-auto'>\n\t\t\t<div className='card bg-base-100 shadow border border-base-300'>\n\t\t\t\t<div className='card-body p-6'>\n\t\t\t\t\t<h1 className='card-title text-lg'>Register</h1>\n\t\t\t\t\t<p className='text-sm opacity-70'>\n\t\t\t\t\t\tUtwórz konto, a następnie potwierdź e-mail.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t{registerError && (\n\t\t\t\t\t\t<div className='alert alert-error mt-3'>\n\t\t\t\t\t\t\t<span>{registerError}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<form onSubmit={onSubmit} className='mt-4 flex flex-col gap-3'>\n\t\t\t\t\t\t<div className='form-control'>\n\t\t\t\t\t\t\t<label className='label'>\n\t\t\t\t\t\t\t\t<span className='label-text'>Email</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\tplaceholder='Email'\n\t\t\t\t\t\t\t\tclassName='input input-bordered w-full'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className='form-control'>\n\t\t\t\t\t\t\t<label className='label'>\n\t\t\t\t\t\t\t\t<span className='label-text'>Hasło</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\tplaceholder='Hasło'\n\t\t\t\t\t\t\t\tclassName='input input-bordered w-full'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className='form-control'>\n\t\t\t\t\t\t\t<label className='label'>\n\t\t\t\t\t\t\t\t<span className='label-text'>Powtórz hasło</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tname='password2'\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\tplaceholder='Powtórz hasło'\n\t\t\t\t\t\t\t\tclassName='input input-bordered w-full'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='btn btn-primary mt-2'\n\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\tdisabled={loading}>\n\t\t\t\t\t\t\t{loading ? \"Tworzenie...\" : \"Utwórz konto\"}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAKA;AACA;AACA;AAVA;;;;;;;AAYe,SAAS;IACvB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,oIAAO;IACxB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAI,MAAM,OAAO;IAEjB,MAAM,WAAW,OAAO;QACvB,EAAE,cAAc;QAChB,iBAAiB;QAEjB,MAAM,QAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI;QACvC,MAAM,WAAW,EAAE,MAAM,CAAC,QAAQ,CAAC,KAAK;QACxC,MAAM,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,KAAK;QAE1C,IAAI,aAAa,WAAW;YAC3B,iBAAiB;YACjB;QACD;QAEA,IAAI;YACH,WAAW;YAEX,MAAM,IAAA,oMAA8B,EAAC,8HAAI,EAAE,OAAO;YAClD,MAAM,IAAA,2LAAqB,EAAC,8HAAI,CAAC,WAAW;YAE5C,aAAa,OAAO,CAAC,4BAA4B;YAEjD,MAAM,IAAA,6KAAO,EAAC,8HAAI;YAElB,OAAO,IAAI,CAAC;QACb,EAAE,OAAO,KAAK;YACb,iBAAiB,KAAK,WAAW;QAClC,SAAU;YACT,WAAW;QACZ;IACD;IAEA,qBACC,8OAAC;QAAI,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;sBACd,cAAA,8OAAC;gBAAI,WAAU;;kCACd,8OAAC;wBAAG,WAAU;kCAAqB;;;;;;kCACnC,8OAAC;wBAAE,WAAU;kCAAqB;;;;;;oBAIjC,+BACA,8OAAC;wBAAI,WAAU;kCACd,cAAA,8OAAC;sCAAM;;;;;;;;;;;kCAIT,8OAAC;wBAAK,UAAU;wBAAU,WAAU;;0CACnC,8OAAC;gCAAI,WAAU;;kDACd,8OAAC;wCAAM,WAAU;kDAChB,cAAA,8OAAC;4CAAK,WAAU;sDAAa;;;;;;;;;;;kDAE9B,8OAAC;wCACA,MAAK;wCACL,MAAK;wCACL,aAAY;wCACZ,WAAU;wCACV,QAAQ;wCACR,UAAU;;;;;;;;;;;;0CAIZ,8OAAC;gCAAI,WAAU;;kDACd,8OAAC;wCAAM,WAAU;kDAChB,cAAA,8OAAC;4CAAK,WAAU;sDAAa;;;;;;;;;;;kDAE9B,8OAAC;wCACA,MAAK;wCACL,MAAK;wCACL,aAAY;wCACZ,WAAU;wCACV,QAAQ;wCACR,UAAU;;;;;;;;;;;;0CAIZ,8OAAC;gCAAI,WAAU;;kDACd,8OAAC;wCAAM,WAAU;kDAChB,cAAA,8OAAC;4CAAK,WAAU;sDAAa;;;;;;;;;;;kDAE9B,8OAAC;wCACA,MAAK;wCACL,MAAK;wCACL,aAAY;wCACZ,WAAU;wCACV,QAAQ;wCACR,UAAU;;;;;;;;;;;;0CAIZ,8OAAC;gCACA,WAAU;gCACV,MAAK;gCACL,UAAU;0CACT,UAAU,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOnC"}}]
}