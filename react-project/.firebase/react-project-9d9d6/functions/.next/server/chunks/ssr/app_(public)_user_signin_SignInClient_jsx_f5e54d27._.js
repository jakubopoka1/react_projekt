module.exports=[90744,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(30485);var d=a.i(31052),e=a.i(50944),f=a.i(29264);function g(){let a=(0,e.useSearchParams)(),g=(0,e.useRouter)(),h=a.get("returnUrl"),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(!1);return(0,b.jsx)("div",{className:"max-w-md mx-auto",children:(0,b.jsx)("div",{className:"card bg-base-100 shadow border border-base-300",children:(0,b.jsxs)("div",{className:"card-body p-6",children:[(0,b.jsx)("h1",{className:"card-title text-lg",children:"Sign in"}),(0,b.jsx)("p",{className:"text-sm opacity-70",children:"Zaloguj się, aby uzyskać dostęp do chronionych stron."}),i&&(0,b.jsx)("div",{className:"alert alert-error mt-3",children:(0,b.jsx)("span",{children:i})}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),j("");let b=a.target.email.value,c=a.target.password.value;l(!0),(0,d.setPersistence)(f.auth,d.browserSessionPersistence).then(()=>(0,d.signInWithEmailAndPassword)(f.auth,b,c)).then(a=>{let b=a.user;if(!b.emailVerified)return localStorage.setItem("pendingVerificationEmail",b.email||""),(0,d.signOut)(f.auth).finally(()=>g.push("/user/verify"));g.push(h||"/")}).catch(a=>{j(a?.message||"Nie udało się zalogować.")}).finally(()=>l(!1))},className:"mt-4 flex flex-col gap-3",children:[(0,b.jsxs)("div",{className:"form-control",children:[(0,b.jsx)("label",{className:"label",children:(0,b.jsx)("span",{className:"label-text",children:"Email"})}),(0,b.jsx)("input",{name:"email",type:"email",placeholder:"Email",className:"input input-bordered w-full",required:!0,disabled:k})]}),(0,b.jsxs)("div",{className:"form-control",children:[(0,b.jsx)("label",{className:"label",children:(0,b.jsx)("span",{className:"label-text",children:"Password"})}),(0,b.jsx)("input",{name:"password",type:"password",placeholder:"Password",className:"input input-bordered w-full",required:!0,disabled:k})]}),(0,b.jsx)("button",{className:"btn btn-primary mt-2",type:"submit",disabled:k,children:k?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"loading loading-spinner loading-sm"}),"Logging in..."]}):"Login"})]})]})})})}a.s(["default",()=>g])}];

//# sourceMappingURL=app_%28public%29_user_signin_SignInClient_jsx_f5e54d27._.js.map