module.exports=[64038,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(30485);var d=a.i(31052),e=a.i(29264),f=a.i(58058),g=a.i(50944);function h(){let{user:a}=(0,f.useAuth)(),h=(0,g.useRouter)(),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(!1);if(a)return null;let m=async a=>{a.preventDefault(),j("");let b=a.target.email.value.trim(),c=a.target.password.value;if(c!==a.target.password2.value)return void j("Hasła muszą być identyczne.");try{l(!0),await (0,d.createUserWithEmailAndPassword)(e.auth,b,c),await (0,d.sendEmailVerification)(e.auth.currentUser),localStorage.setItem("pendingVerificationEmail",b),await (0,d.signOut)(e.auth),h.push("/user/verify")}catch(a){j(a?.message||"Błąd rejestracji.")}finally{l(!1)}};return(0,b.jsx)("div",{className:"max-w-md mx-auto",children:(0,b.jsx)("div",{className:"card bg-base-100 shadow border border-base-300",children:(0,b.jsxs)("div",{className:"card-body p-6",children:[(0,b.jsx)("h1",{className:"card-title text-lg",children:"Register"}),(0,b.jsx)("p",{className:"text-sm opacity-70",children:"Utwórz konto, a następnie potwierdź e-mail."}),i&&(0,b.jsx)("div",{className:"alert alert-error mt-3",children:(0,b.jsx)("span",{children:i})}),(0,b.jsxs)("form",{onSubmit:m,className:"mt-4 flex flex-col gap-3",children:[(0,b.jsxs)("div",{className:"form-control",children:[(0,b.jsx)("label",{className:"label",children:(0,b.jsx)("span",{className:"label-text",children:"Email"})}),(0,b.jsx)("input",{name:"email",type:"email",placeholder:"Email",className:"input input-bordered w-full",required:!0,disabled:k})]}),(0,b.jsxs)("div",{className:"form-control",children:[(0,b.jsx)("label",{className:"label",children:(0,b.jsx)("span",{className:"label-text",children:"Hasło"})}),(0,b.jsx)("input",{name:"password",type:"password",placeholder:"Hasło",className:"input input-bordered w-full",required:!0,disabled:k})]}),(0,b.jsxs)("div",{className:"form-control",children:[(0,b.jsx)("label",{className:"label",children:(0,b.jsx)("span",{className:"label-text",children:"Powtórz hasło"})}),(0,b.jsx)("input",{name:"password2",type:"password",placeholder:"Powtórz hasło",className:"input input-bordered w-full",required:!0,disabled:k})]}),(0,b.jsx)("button",{className:"btn btn-primary mt-2",type:"submit",disabled:k,children:k?"Tworzenie...":"Utwórz konto"})]})]})})})}a.s(["default",()=>h])}];

//# sourceMappingURL=app_%28public%29_user_register_page_f5b51252.js.map