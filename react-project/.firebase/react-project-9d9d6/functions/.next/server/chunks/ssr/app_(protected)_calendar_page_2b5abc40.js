module.exports=[198,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d(a){return String(a).padStart(2,"0")}function e(a){return`${a.getFullYear()}-${d(a.getMonth()+1)}-${d(a.getDate())}`}let f="calendar_tasks_v1",g=["Pon","Wto","Śro","Czw","Pią","Sob","Nie"];function h(){let a=new Date,[d,h]=(0,c.useState)(a.getFullYear()),[i,j]=(0,c.useState)(a.getMonth()),[k,l]=(0,c.useState)({}),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)("");(0,c.useEffect)(()=>{try{let a=localStorage.getItem(f);a&&l(JSON.parse(a))}catch{}n(!0)},[]),(0,c.useEffect)(()=>{if(m)try{localStorage.setItem(f,JSON.stringify(k))}catch{}},[k,m]);let A=(0,c.useMemo)(()=>new Date(d,i,1).toLocaleDateString("pl-PL",{month:"long",year:"numeric"}),[d,i]),B=(0,c.useMemo)(()=>{let a=(new Date(d,i,1).getDay()+6)%7,b=new Date(d,i+1,0).getDate(),c=[];for(let e=0;e<42;e++){let f=e-a+1,g=new Date(d,i,f),h=f>=1&&f<=b;c.push({date:g,inMonth:h})}return c},[d,i]);function C(){p(!1),r(""),t(null),v(""),x(""),z("")}let D=e(new Date);return(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-4 mb-4 md:flex-row md:items-center md:justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{className:"join",children:[(0,b.jsx)("button",{className:"btn btn-outline btn-sm join-item",onClick:function(){let a=new Date(d,i-1,1);h(a.getFullYear()),j(a.getMonth())},children:"←"}),(0,b.jsx)("button",{className:"btn btn-outline btn-sm join-item",onClick:function(){let a=new Date(d,i+1,1);h(a.getFullYear()),j(a.getMonth())},children:"→"})]}),(0,b.jsx)("div",{className:"text-2xl font-bold capitalize",children:A})]}),(0,b.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,b.jsx)("select",{className:"select select-bordered select-sm",value:i,onChange:a=>j(Number(a.target.value)),children:Array.from({length:12}).map((a,c)=>(0,b.jsx)("option",{value:c,children:new Date(2e3,c,1).toLocaleDateString("pl-PL",{month:"long"})},c))}),(0,b.jsx)("input",{type:"number",className:"input input-bordered input-sm w-28",value:d,onChange:a=>h(Number(a.target.value))})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-7 gap-2 mb-2",children:g.map(a=>(0,b.jsx)("div",{className:"text-sm font-semibold opacity-70 px-1",children:a},a))}),(0,b.jsx)("div",{className:"grid grid-cols-7 gap-2",children:B.map(({date:a,inMonth:c},d)=>{let f=e(a),g=Array.isArray(k[f])?k[f]:[],h=f===D;return(0,b.jsxs)("div",{className:["card bg-base-100 shadow-sm border border-base-300 p-2 min-h-[130px] overflow-hidden",!c?"opacity-40":"",h?"ring-2 ring-primary":""].join(" "),children:[(0,b.jsxs)("div",{className:"flex justify-between items-start gap-2 mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"font-bold text-base",children:a.getDate()}),g.length>0&&(0,b.jsx)("div",{className:"badge badge-neutral badge-sm",children:g.length})]}),(0,b.jsx)("button",{className:"btn btn-primary btn-xs",onClick:()=>{r(e(a)),t(null),v(""),x(""),z(""),p(!0)},children:"+"})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[0===g.length&&(0,b.jsx)("div",{className:"text-xs opacity-60",children:"Brak zadań"}),g.map(a=>(0,b.jsx)("button",{className:"btn btn-ghost btn-sm justify-start text-left normal-case h-auto py-1",onClick:()=>{r(f),t(a.id),v(a.title||""),x(a.time||""),z(a.desc||""),p(!0)},children:(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,b.jsx)("span",{className:"font-medium truncate",children:a.title}),a.time&&(0,b.jsx)("span",{className:"text-xs opacity-70 shrink-0",children:a.time})]}),a.desc&&(0,b.jsx)("div",{className:"text-xs opacity-70 truncate",children:a.desc})]})},a.id))]})]},d)})}),o&&(0,b.jsxs)("div",{className:"modal modal-open",children:[(0,b.jsxs)("div",{className:"modal-box",children:[(0,b.jsxs)("h2",{className:"font-bold text-lg mb-3",children:[s?"Edytuj":"Dodaj"," zadanie"]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("input",{className:"input input-bordered w-full",placeholder:"Tytuł",value:u,onChange:a=>v(a.target.value)}),(0,b.jsx)("input",{className:"input input-bordered w-full",placeholder:"Godzina (np. 14:30)",value:w,onChange:a=>x(a.target.value)}),(0,b.jsx)("textarea",{className:"textarea textarea-bordered w-full",placeholder:"Opis",value:y,onChange:a=>z(a.target.value)})]}),(0,b.jsxs)("div",{className:"modal-action flex justify-between w-full",children:[s?(0,b.jsx)("button",{type:"button",className:"btn btn-error",onClick:function(){s&&(l(a=>{let b={...a},c=(Array.isArray(b[q])?b[q]:[]).filter(a=>a.id!==s);return 0===c.length?delete b[q]:b[q]=c,b}),C())},children:"Usuń"}):(0,b.jsx)("div",{}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{type:"button",className:"btn",onClick:C,children:"Anuluj"}),(0,b.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){u.trim()&&(l(a=>{let b={...a},c=Array.isArray(b[q])?[...b[q]]:[];if(s){let a=c.findIndex(a=>a.id===s);-1!==a&&(c[a]={...c[a],title:u.trim(),time:w.trim(),desc:y.trim()})}else c.push({id:`${Date.now()}-${Math.random().toString(16).slice(2)}`,title:u.trim(),time:w.trim(),desc:y.trim()});return b[q]=c,b}),C())},disabled:!u.trim(),children:"Zapisz"})]})]})]}),(0,b.jsx)("div",{className:"modal-backdrop",onClick:C})]})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=app_%28protected%29_calendar_page_2b5abc40.js.map