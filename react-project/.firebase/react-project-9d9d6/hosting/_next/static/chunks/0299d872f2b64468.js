(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,69127,e=>{"use strict";var t=e.i(43476),a=e.i(71645);function s(e){return String(e).padStart(2,"0")}function l(e){return`${e.getFullYear()}-${s(e.getMonth()+1)}-${s(e.getDate())}`}let n="calendar_tasks_v1",i=["Pon","Wto","Śro","Czw","Pią","Sob","Nie"];function r(){let e=new Date,[s,r]=(0,a.useState)(e.getFullYear()),[c,d]=(0,a.useState)(e.getMonth()),[o,m]=(0,a.useState)({}),[u,x]=(0,a.useState)(!1),[h,b]=(0,a.useState)(!1),[p,g]=(0,a.useState)(""),[j,f]=(0,a.useState)(null),[N,v]=(0,a.useState)(""),[y,w]=(0,a.useState)(""),[S,D]=(0,a.useState)("");(0,a.useEffect)(()=>{try{let e=localStorage.getItem(n);e&&m(JSON.parse(e))}catch{}x(!0)},[]),(0,a.useEffect)(()=>{if(u)try{localStorage.setItem(n,JSON.stringify(o))}catch{}},[o,u]);let C=(0,a.useMemo)(()=>new Date(s,c,1).toLocaleDateString("pl-PL",{month:"long",year:"numeric"}),[s,c]),k=(0,a.useMemo)(()=>{let e=(new Date(s,c,1).getDay()+6)%7,t=new Date(s,c+1,0).getDate(),a=[];for(let l=0;l<42;l++){let n=l-e+1,i=new Date(s,c,n),r=n>=1&&n<=t;a.push({date:i,inMonth:r})}return a},[s,c]);function A(){b(!1),g(""),f(null),v(""),w(""),D("")}let M=l(new Date);return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4 mb-4 md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"join",children:[(0,t.jsx)("button",{className:"btn btn-outline btn-sm join-item",onClick:function(){let e=new Date(s,c-1,1);r(e.getFullYear()),d(e.getMonth())},children:"←"}),(0,t.jsx)("button",{className:"btn btn-outline btn-sm join-item",onClick:function(){let e=new Date(s,c+1,1);r(e.getFullYear()),d(e.getMonth())},children:"→"})]}),(0,t.jsx)("div",{className:"text-2xl font-bold capitalize",children:C})]}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("select",{className:"select select-bordered select-sm",value:c,onChange:e=>d(Number(e.target.value)),children:Array.from({length:12}).map((e,a)=>(0,t.jsx)("option",{value:a,children:new Date(2e3,a,1).toLocaleDateString("pl-PL",{month:"long"})},a))}),(0,t.jsx)("input",{type:"number",className:"input input-bordered input-sm w-28",value:s,onChange:e=>r(Number(e.target.value))})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-7 gap-2 mb-2",children:i.map(e=>(0,t.jsx)("div",{className:"text-sm font-semibold opacity-70 px-1",children:e},e))}),(0,t.jsx)("div",{className:"grid grid-cols-7 gap-2",children:k.map(({date:e,inMonth:a},s)=>{let n=l(e),i=Array.isArray(o[n])?o[n]:[],r=n===M;return(0,t.jsxs)("div",{className:["card bg-base-100 shadow-sm border border-base-300 p-2 min-h-[130px] overflow-hidden",!a?"opacity-40":"",r?"ring-2 ring-primary":""].join(" "),children:[(0,t.jsxs)("div",{className:"flex justify-between items-start gap-2 mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"font-bold text-base",children:e.getDate()}),i.length>0&&(0,t.jsx)("div",{className:"badge badge-neutral badge-sm",children:i.length})]}),(0,t.jsx)("button",{className:"btn btn-primary btn-xs",onClick:()=>{g(l(e)),f(null),v(""),w(""),D(""),b(!0)},children:"+"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[0===i.length&&(0,t.jsx)("div",{className:"text-xs opacity-60",children:"Brak zadań"}),i.map(e=>(0,t.jsx)("button",{className:"btn btn-ghost btn-sm justify-start text-left normal-case h-auto py-1",onClick:()=>{g(n),f(e.id),v(e.title||""),w(e.time||""),D(e.desc||""),b(!0)},children:(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,t.jsx)("span",{className:"font-medium truncate",children:e.title}),e.time&&(0,t.jsx)("span",{className:"text-xs opacity-70 shrink-0",children:e.time})]}),e.desc&&(0,t.jsx)("div",{className:"text-xs opacity-70 truncate",children:e.desc})]})},e.id))]})]},s)})}),h&&(0,t.jsxs)("div",{className:"modal modal-open",children:[(0,t.jsxs)("div",{className:"modal-box",children:[(0,t.jsxs)("h2",{className:"font-bold text-lg mb-3",children:[j?"Edytuj":"Dodaj"," zadanie"]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("input",{className:"input input-bordered w-full",placeholder:"Tytuł",value:N,onChange:e=>v(e.target.value)}),(0,t.jsx)("input",{className:"input input-bordered w-full",placeholder:"Godzina (np. 14:30)",value:y,onChange:e=>w(e.target.value)}),(0,t.jsx)("textarea",{className:"textarea textarea-bordered w-full",placeholder:"Opis",value:S,onChange:e=>D(e.target.value)})]}),(0,t.jsxs)("div",{className:"modal-action flex justify-between w-full",children:[j?(0,t.jsx)("button",{type:"button",className:"btn btn-error",onClick:function(){j&&(m(e=>{let t={...e},a=(Array.isArray(t[p])?t[p]:[]).filter(e=>e.id!==j);return 0===a.length?delete t[p]:t[p]=a,t}),A())},children:"Usuń"}):(0,t.jsx)("div",{}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{type:"button",className:"btn",onClick:A,children:"Anuluj"}),(0,t.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){N.trim()&&(m(e=>{let t={...e},a=Array.isArray(t[p])?[...t[p]]:[];if(j){let e=a.findIndex(e=>e.id===j);-1!==e&&(a[e]={...a[e],title:N.trim(),time:y.trim(),desc:S.trim()})}else a.push({id:`${Date.now()}-${Math.random().toString(16).slice(2)}`,title:N.trim(),time:y.trim(),desc:S.trim()});return t[p]=a,t}),A())},disabled:!N.trim(),children:"Zapisz"})]})]})]}),(0,t.jsx)("div",{className:"modal-backdrop",onClick:A})]})]})}e.s(["default",()=>r])}]);