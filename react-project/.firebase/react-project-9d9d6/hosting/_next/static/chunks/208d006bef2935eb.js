(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,40989,e=>{"use strict";var a=e.i(43476),s=e.i(71645);e.i(51718);var l=e.i(18357),r=e.i(151),t=e.i(71935),i=e.i(18566);function d(){let{user:e}=(0,t.useAuth)(),d=(0,i.useRouter)(),[n,c]=(0,s.useState)(""),[o,m]=(0,s.useState)(!1);if(e)return null;let u=async e=>{e.preventDefault(),c("");let a=e.target.email.value.trim(),s=e.target.password.value;if(s!==e.target.password2.value)return void c("Hasła muszą być identyczne.");try{m(!0),await (0,l.createUserWithEmailAndPassword)(r.auth,a,s),await (0,l.sendEmailVerification)(r.auth.currentUser),localStorage.setItem("pendingVerificationEmail",a),await (0,l.signOut)(r.auth),d.push("/user/verify")}catch(e){c(e?.message||"Błąd rejestracji.")}finally{m(!1)}};return(0,a.jsx)("div",{className:"max-w-md mx-auto",children:(0,a.jsx)("div",{className:"card bg-base-100 shadow border border-base-300",children:(0,a.jsxs)("div",{className:"card-body p-6",children:[(0,a.jsx)("h1",{className:"card-title text-lg",children:"Register"}),(0,a.jsx)("p",{className:"text-sm opacity-70",children:"Utwórz konto, a następnie potwierdź e-mail."}),n&&(0,a.jsx)("div",{className:"alert alert-error mt-3",children:(0,a.jsx)("span",{children:n})}),(0,a.jsxs)("form",{onSubmit:u,className:"mt-4 flex flex-col gap-3",children:[(0,a.jsxs)("div",{className:"form-control",children:[(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Email"})}),(0,a.jsx)("input",{name:"email",type:"email",placeholder:"Email",className:"input input-bordered w-full",required:!0,disabled:o})]}),(0,a.jsxs)("div",{className:"form-control",children:[(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Hasło"})}),(0,a.jsx)("input",{name:"password",type:"password",placeholder:"Hasło",className:"input input-bordered w-full",required:!0,disabled:o})]}),(0,a.jsxs)("div",{className:"form-control",children:[(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Powtórz hasło"})}),(0,a.jsx)("input",{name:"password2",type:"password",placeholder:"Powtórz hasło",className:"input input-bordered w-full",required:!0,disabled:o})]}),(0,a.jsx)("button",{className:"btn btn-primary mt-2",type:"submit",disabled:o,children:o?"Tworzenie...":"Utwórz konto"})]})]})})})}e.s(["default",()=>d])}]);