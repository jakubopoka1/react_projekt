(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11763,e=>{"use strict";var s=e.i(43476),a=e.i(71645);e.i(51718);var l=e.i(18357),i=e.i(18566),r=e.i(151);function t(){let e=(0,i.useSearchParams)(),t=(0,i.useRouter)(),n=e.get("returnUrl"),[d,c]=(0,a.useState)(""),[o,m]=(0,a.useState)(!1);return(0,s.jsx)("div",{className:"max-w-md mx-auto",children:(0,s.jsx)("div",{className:"card bg-base-100 shadow border border-base-300",children:(0,s.jsxs)("div",{className:"card-body p-6",children:[(0,s.jsx)("h1",{className:"card-title text-lg",children:"Sign in"}),(0,s.jsx)("p",{className:"text-sm opacity-70",children:"Zaloguj się, aby uzyskać dostęp do chronionych stron."}),d&&(0,s.jsx)("div",{className:"alert alert-error mt-3",children:(0,s.jsx)("span",{children:d})}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c("");let s=e.target.email.value,a=e.target.password.value;m(!0),(0,l.setPersistence)(r.auth,l.browserSessionPersistence).then(()=>(0,l.signInWithEmailAndPassword)(r.auth,s,a)).then(e=>{let s=e.user;if(!s.emailVerified)return localStorage.setItem("pendingVerificationEmail",s.email||""),(0,l.signOut)(r.auth).finally(()=>t.push("/user/verify"));t.push(n||"/")}).catch(e=>{c(e?.message||"Nie udało się zalogować.")}).finally(()=>m(!1))},className:"mt-4 flex flex-col gap-3",children:[(0,s.jsxs)("div",{className:"form-control",children:[(0,s.jsx)("label",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Email"})}),(0,s.jsx)("input",{name:"email",type:"email",placeholder:"Email",className:"input input-bordered w-full",required:!0,disabled:o})]}),(0,s.jsxs)("div",{className:"form-control",children:[(0,s.jsx)("label",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Password"})}),(0,s.jsx)("input",{name:"password",type:"password",placeholder:"Password",className:"input input-bordered w-full",required:!0,disabled:o})]}),(0,s.jsx)("button",{className:"btn btn-primary mt-2",type:"submit",disabled:o,children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"loading loading-spinner loading-sm"}),"Logging in..."]}):"Login"})]})]})})})}e.s(["default",()=>t])}]);